(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}})();function h(o){return new Promise((a,c)=>{const r=new Image;r.onload=()=>a(r),r.onerror=c,r.src=o})}function y(o,a){const r=(Math.floor(Math.random()*a)+1).toString().padStart(3,"0");return`./parts/${o}-${r}.png`}async function b(o,a,c){o.clearRect(0,0,a.width,a.height);const r=Object.keys(c);for(const e of r){const t=c[e];if(t===0)continue;const n=y(e,t);try{const i=await h(n);o.drawImage(i,0,0,a.width,a.height)}catch(i){console.error(`Failed to load image: ${n}`,i)}}}function x({id:o,label:a,min:c,max:r,defaultValue:e},t){const n=document.createElement("div");n.className="slider-group";const i=document.createElement("div");i.className="label-group";const d=document.createElement("label");d.setAttribute("for",`slider-${o}`),d.textContent=a;const l=document.createElement("span");l.className="slider-value",l.id=`value-${o}`,l.textContent=e,i.appendChild(d),i.appendChild(l);const s=document.createElement("input");return s.type="range",s.id=`slider-${o}`,s.min=c,s.max=r,s.value=e,n.appendChild(i),n.appendChild(s),s.addEventListener("input",()=>{l.textContent=s.value,t&&t(s.value)}),{sliderGroup:n,slider:s}}const E=[{id:"00-bg",label:"00-bg",min:0,max:1,defaultValue:1},{id:"10-main",label:"10-main",min:0,max:1,defaultValue:1},{id:"20-hands",label:"20-hands",min:0,max:2,defaultValue:1},{id:"20-shoes",label:"20-shoes",min:0,max:3,defaultValue:3},{id:"22-pants",label:"22-pants",min:0,max:1,defaultValue:0}];function v(){const o=document.getElementById("canvas"),a=o.getContext("2d");o.width=320,o.height=320;const c=document.querySelector(".sidebar"),r={};E.forEach(({id:n,label:i,min:d,max:l,defaultValue:s})=>{const{sliderGroup:m,slider:f}=x({id:n,label:i,min:d,max:l,defaultValue:s},g=>{const u=document.getElementById(`value-${n}`);u&&(u.textContent=g)}),p=document.getElementById("generate-btn");c.insertBefore(m,p),r[n]=f});async function e(){const n={};Object.keys(r).forEach(i=>{n[i]=parseInt(r[i].value,10)}),await b(a,o,n)}document.getElementById("generate-btn").addEventListener("click",e),e()}v();
